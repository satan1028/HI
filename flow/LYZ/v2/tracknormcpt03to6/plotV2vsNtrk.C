void plotV2vsNtrk(){

const int ntotbin=5;
const int nbin24 = 12;
const double avgtrkbin24[nbin24]={44.36,54.33,68.63,88.39,108.2,131.3,162.1,196.6,227.5,247.2,269.2,301.2};
const double V24[nbin24]={0.02965,0.03913,0.04832,0.04941,0.04822,0.04955,0.049,0.04805,0.04709,0.04665,0.04772,0.04797};
const double V24err[nbin24]={0.005967,0.004262,0.001496,0.001351,0.001599,0.0003922,0.0003065,0.0002939,0.0004568,0.0008684,0.001471,0.004329};
const int nbin=5;
const double avgtrkbin[nbin] = {131.3,162.1,196.6,232.0,271.0};
const double V214006[nbin] = {0.04918,0.04764,0.04572,0.04501,0.04752};
const double V214006err[nbin] = {0.004265,0.002813,0.002469,0.004173,0.004504};
const double spcorr[ntotbin]={0.938962,0.997107,0.996962,0.995796,1.00314};
TString tbin[ntotbin] = {"M150120","M185150","M220185","M260220","M300260"};
int xbin=0;
int xpt=0;
double Ntrk[ntotbin], V2_Sum[ntotbin], V2err_Sum[ntotbin],  V2_Prod[ntotbin], V2err_Prod[ntotbin], V2intcorr_Prod[ntotbin], V2intcorrerr_Prod[ntotbin], V2_Prod_sub[ntotbin], V2err_Prod_sub[ntotbin];
for(int i=0;i<ntotbin;i++){
TFile *mergedV_Sum = TFile::Open(Form("%s/mergedV_Prod.root",tbin[i].Data()));
TFile *mergedV_Prod = TFile::Open(Form("%s/mergedV_Prod.root",tbin[i].Data()));
TFile *mergedV_Prod_sub = TFile::Open(Form("%s/mergedV_Prod_sub.root",tbin[i].Data()));
TFile *mergedv_Prod2 = TFile::Open(Form("%s/mergedv_Prod2.root",tbin[i].Data()));
TVectorD *vecNtrk = (TVectorD*)mergedV_Sum->Get("avgtrk");
TVectorD *vecNtrk_back = (TVectorD*)mergedV_Prod->Get("avgtrk");
TVectorD *vecV2_Sum=(TVectorD*)mergedV_Sum->Get(Form("Vmean"));
TVectorD *vecV2err_Sum=(TVectorD*)mergedV_Sum->Get(Form("deltaVmean"));
TVectorD *vecV2_Prod=(TVectorD*)mergedV_Prod->Get(Form("Vmean"));
TVectorD *vecV2err_Prod=(TVectorD*)mergedV_Prod->Get(Form("deltaVmean",xbin));
TVectorD *vecV2intcorr_Prod=(TVectorD*)mergedv_Prod2->Get(Form("V_intcorr",xbin));
TVectorD *vecV2intcorrerr_Prod=(TVectorD*)mergedv_Prod2->Get(Form("V_intcorrerr",xbin));
TVectorD *vecV2_Prod_sub=(TVectorD*)mergedV_Prod_sub->Get(Form("Vmeanmean"));
TVectorD *vecV2err_Prod_sub=(TVectorD*)mergedV_Prod_sub->Get(Form("deltaVmeanmean"));
Ntrk[i]=(*vecNtrk)[xbin];
V2_Sum[i]=(*vecV2_Sum)[xbin];
V2err_Sum[i]=(*vecV2err_Sum)[xbin];
V2_Prod[i]=(*vecV2_Prod)[xbin];
V2err_Prod[i]=(*vecV2err_Prod)[xbin];
V2_Prod_sub[i]=(*vecV2_Prod_sub)[xbin];
V2err_Prod_sub[i]=(*vecV2err_Prod_sub)[xbin];
V2intcorr_Prod[i]=(*vecV2intcorr_Prod)[xbin]*spcorr[i];
V2intcorrerr_Prod[i]=(*vecV2intcorrerr_Prod)[xbin]*spcorr[i];
cout<<V2_Prod_sub[i]<<endl;
}
//const double V2[nbin]={0.0465,0.0498,0.0430,0.0447,0.0462};
//const double V2Prod[nbin]={0.0536,0.0514,0.0491,0.0482,0.0462};
//const double V2Proderr[nbin]={0.0013,0.0015,0.0015,0.0070,0.0027};
TCanvas *c1 = new TCanvas;
TGraphErrors *grSum=new TGraphErrors(ntotbin,Ntrk,V2_Sum,0,V2err_Sum);
TGraphErrors *grProd=new TGraphErrors(ntotbin,Ntrk,V2_Prod,0,V2err_Prod);
TGraphErrors *grProdsub=new TGraphErrors(ntotbin,Ntrk,V2_Prod_sub,0,V2err_Prod_sub);
TGraphErrors *grProdcorr=new TGraphErrors(ntotbin,Ntrk,V2intcorr_Prod,0,V2err_Prod);
TGraphErrors *grV214006=new TGraphErrors(nbin,avgtrkbin,V214006,0,V214006err);
TGraphErrors *grV24=new TGraphErrors(nbin24,avgtrkbin24,V24,0,V24err);
TLatex *tl1 = new TLatex(0.2,0.3,Form("track normal cut"));
TLatex *tl2 = new TLatex(0.2,0.2,Form("%.1f < p_{T} < %.1f (GeV/c), %.1f < #eta < %.1f ",0.3,3.0,-2.4,2.4));
tl1->SetNDC();
tl2->SetNDC();
grV214006->SetTitle("");
grV214006->GetXaxis()->SetTitle("Ntrkoffline");
grV214006->GetYaxis()->SetTitle("V_{2}");
grV214006->GetXaxis()->CenterTitle();
grV214006->GetYaxis()->CenterTitle();
grV214006->SetMaximum(0.08);
grV214006->SetMinimum(0.0);
//grSum->SetMarkerSize(1);
grV214006->SetMarkerSize(1.4);
grV214006->SetMarkerColor(1);
grV214006->SetMarkerStyle(20);
//grSum->SetMarkerColor(1);
grProdcorr->SetMarkerColor(2);
grProdcorr->SetMarkerSize(1.4);
grProdcorr->SetLineColor(2);
grProdcorr->SetMarkerStyle(24);
grProdsub->SetMarkerStyle(20);
grProdsub->SetMarkerStyle(20);
grProdsub->SetMarkerSize(1.4);
grProdsub->SetMarkerColor(4);
grProd->SetMarkerSize(1.4);
grProd->SetMarkerColor(4);
grProd->SetLineColor(4);
grProd->SetMarkerStyle(20);
grV24->SetMarkerSize(1.4);
grV24->SetMarkerColor(4);
grV24->SetMarkerStyle(29);
grV24->SetLineColor(4);
//grSum->SetMarkerStyle(20);
TLegend *leg = new TLegend(0.2,0.7,0.4,0.85);
leg->SetTextSize(0.05);
leg->SetBorderSize(0);
leg->SetFillColor(0);
//leg->AddEntry(grSum,"LYZ Sum method","P");
//leg->AddEntry(grProd,"LYZ method","P");
//leg->AddEntry(grProdcorr,"V_{2}{LYZ}","P");
leg->AddEntry(grProdsub,"V_{2}{LYZ}","P");
leg->AddEntry(grV214006,"HIN-14-006 LYZ","P");
leg->AddEntry(grV24,"V_{2}{4}","P");
grV214006->Draw("AP");
//grSum->Draw("Psame");
//grProdcorr->Draw("Psame");
//grProd->Draw("Psame");
grProdsub->Draw("Psame");
grV24->Draw("Psame");
//tl1->Draw("same");
tl2->Draw("same");
leg->Draw("same");
c1->Print("V2vsNtrk_sub.png");

}

